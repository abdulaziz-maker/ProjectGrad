<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yusur Job Portal</title>
    
    <!-- Ø±Ø¨Ø· Ù…Ù„Ù Ø§Ù„Ù€ CSS -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    
    <!-- Ø®Ø·ÙˆØ· Google -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Ø²Ø± ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© -->
    <div class="menu-button" onclick="openSidebar()">â˜°</div>
    
    <!-- Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="container">
        <h1 class="title">Yusur Job Portal</h1>

        <div class="dashboard">
            <h2>ğŸ‘¤ Ù…Ø±Ø­Ø¨Ù‹Ø§ {{ current_user.username if current_user.is_authenticated else 'Ø²Ø§Ø¦Ø±' }}</h2>
            <div class="buttons">
                <a href="{{ url_for('main.home') }}" class="btn">ğŸ  Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>

                {% if current_user.is_authenticated %}
                    {% if current_user.role == 'Admin' %}
                        <a href="{{ url_for('main.admin_dashboard') }}" class="btn">ğŸ“Š Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø£Ø¯Ù…Ù†</a>
                        <a href="{{ url_for('main.add_job') }}" class="btn">â• Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ©</a>
                    {% elif current_user.role == 'JobSeeker' %}
                        <a href="{{ url_for('main.jobseeker_dashboard') }}" class="btn">ğŸ“ Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</a>
                        <a href="{{ url_for('main.upload_certificate') }}" class="btn">ğŸ“œ Ø¥Ø¶Ø§ÙØ© Ø´Ù‡Ø§Ø¯Ø©</a>
                    {% endif %}
                    <a href="{{ url_for('main.logout') }}" class="btn btn-danger">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a>
                {% else %}
                    <a href="{{ url_for('main.login') }}" class="btn">ğŸ”‘ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
                    <a href="{{ url_for('main.register') }}" class="btn btn-secondary">ğŸ“ ØªØ³Ø¬ÙŠÙ„ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</a>
                {% endif %}
            </div>
        </div>

        <div class="content">
            {% block content %}{% endblock %}
        </div>
    </div>

    <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
    <div id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <span class="close-button" onclick="closeSidebar()">Ã—</span>
            <h3>Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</h3>
        </div>
        <ul class="sidebar-menu">
            {% if current_user.is_authenticated %}
                <li><a href="{{ url_for('main.profile') }}">ğŸ‘¤ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</a></li>
                <li><a href="{{ url_for('main.settings') }}">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</a></li>
                <li><a href="#">ğŸ”” Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</a></li>
                <li><a href="{{ url_for('main.logout') }}">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a></li>
            {% else %}
                <li><a href="{{ url_for('main.login') }}">ğŸ”‘ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a></li>
                <li><a href="{{ url_for('main.register') }}">ğŸ“ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</a></li>
            {% endif %}
        </ul>
    </div>

    <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¸Ù‡Ø± -->
    <div class="theme-toggle-container">
        <label for="theme-toggle">ğŸ¨ ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù‡Ø±</label>
        <select id="theme-toggle" name="theme" class="form-control">
            <option value="light">ğŸŒ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­</option>
            <option value="dark">ğŸŒ™ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†</option>
        </select>
    </div>

    <!-- JavaScript Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© Ùˆ Ø§Ù„Ù…Ø¸Ù‡Ø± -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const themeToggle = document.getElementById("theme-toggle");

            // ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ† Ù…ÙØ¹Ù„ Ù…Ø³Ø¨Ù‚Ù‹Ø§
            if (localStorage.getItem("theme") === "dark") {
                document.body.classList.add("dark-mode");
                themeToggle.value = "dark";
            }

            // Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù‡Ø±
            themeToggle.addEventListener("change", function() {
                if (this.value === "dark") {
                    document.body.classList.add("dark-mode");
                    localStorage.setItem("theme", "dark");
                } else {
                    document.body.classList.remove("dark-mode");
                    localStorage.setItem("theme", "light");
                }
            });
        });

        function openSidebar() {
            document.getElementById("sidebar").classList.add("active");
        }

        function closeSidebar() {
            document.getElementById("sidebar").classList.remove("active");
        }
    </script>
</body>
</html>